{"version":3,"sources":["webpack:///35721f3e9354e97436ca.worker.js","webpack:///webpack/bootstrap 35721f3e9354e97436ca","webpack:///./src/fdraw/services/fworker.js","webpack:///./src/fdraw/services/getColor.js","webpack:///./src/fdraw/services/iterations.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_iterations","_iterations2","_getColor","_getColor2","mapPoint","srcX","srcY","trgParams","x","zoom","y","self","onmessage","e","params","data","imageData","image","width","height","halfWidth","Math","floor","halfHeight","maxIter","resolution","fcolor","h","lg","palette","N","stat","Array","fill","j","i","ii","cPoint","nIter","mandelbrot","n","r","g","b","a","max","reduce","map","postMessage","Object","defineProperty","value","_slicedToArray","sliceIterator","arr","_arr","_n","_d","_e","undefined","_s","_i","Symbol","iterator","next","done","push","length","err","isArray","TypeError","getSegment","bp","len","li","x1","x2","y1","y2","round","_getSegment","_getSegment2","p1","p2","bw","wb","rb","wk","wp","colorPalette","normalize","mz","t","log","z","zz"],"mappings":"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","file":"35721f3e9354e97436ca.worker.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/fdraw-react/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _iterations = __webpack_require__(2);\n\t\n\tvar _iterations2 = _interopRequireDefault(_iterations);\n\t\n\tvar _getColor = __webpack_require__(1);\n\t\n\tvar _getColor2 = _interopRequireDefault(_getColor);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tvar mapPoint = function mapPoint(srcX, srcY, trgParams) {\n\t  return {\n\t    x: trgParams.x + srcX / trgParams.zoom,\n\t    y: trgParams.y - srcY / trgParams.zoom\n\t  };\n\t};\n\t\n\tself.onmessage = function (e) {\n\t  var params = e.data.params;\n\t  var imageData = e.data.image;\n\t\n\t  var width = params.width;\n\t  var height = params.height;\n\t  var halfWidth = Math.floor(width / 2);\n\t  var halfHeight = Math.floor(height / 2);\n\t  var maxIter = params.resolution;\n\t  var fcolor = function fcolor(h) {\n\t    return _getColor2.default.lg(h, params.palette);\n\t  };\n\t\n\t  var N = 50;\n\t  var stat = new Array(N).fill(0);\n\t\n\t  for (var j = 0; j < height; j++) {\n\t    for (var i = 0; i < width; i++) {\n\t      var ii = 4 * (j * width + i);\n\t      var cPoint = mapPoint(i - halfWidth, j - halfHeight, params);\n\t      var nIter = _iterations2.default.mandelbrot(cPoint, maxIter);\n\t      var h = nIter / maxIter;\n\t      var c = fcolor(h);\n\t      var n = Math.floor((N - 1) * h);\n\t      stat[n]++;\n\t      imageData.data[ii + 0] = c.r;\n\t      imageData.data[ii + 1] = c.g;\n\t      imageData.data[ii + 2] = c.b;\n\t      imageData.data[ii + 3] = c.a;\n\t    }\n\t  }\n\t\n\t  var max = stat.reduce(function (m, x) {\n\t    return x > m ? x : m;\n\t  }, 0);\n\t  stat = stat.map(function (x) {\n\t    return x / max;\n\t  });\n\t\n\t  postMessage({ image: imageData, stat: stat });\n\t};\n\n/***/ },\n/* 1 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\t\n\t/*\n\t * Quantization\n\t */\n\tvar getSegment = function getSegment(h, bp) {\n\t  var len = bp.length;\n\t  if (h === 1) return [bp[len - 2], bp[len - 1]];\n\t  var i = 0;\n\t  while (h < bp[i].h || h >= bp[i + 1].h) {\n\t    i++;\n\t  }var j = i === len ? 0 : i + 1;\n\t  return [bp[i], bp[j]];\n\t};\n\t\n\t/*\n\t * Linear interpolation\n\t */\n\tvar li = function li(x, x1, x2, y1, y2) {\n\t  var r = y1 + (x - x1) * (y2 - y1) / (x2 - x1);\n\t  return Math.round(r);\n\t};\n\t\n\t/*\n\t * Color gradient with linear interpolation\n\t */\n\tvar lg = function lg(h, bp) {\n\t  var _getSegment = getSegment(h, bp),\n\t      _getSegment2 = _slicedToArray(_getSegment, 2),\n\t      p1 = _getSegment2[0],\n\t      p2 = _getSegment2[1];\n\t\n\t  return {\n\t    r: li(h, p1.h, p2.h, p1.r, p2.r),\n\t    g: li(h, p1.h, p2.h, p1.g, p2.g),\n\t    b: li(h, p1.h, p2.h, p1.b, p2.b),\n\t    a: 255\n\t  };\n\t};\n\t\n\tvar bw = [{ h: 0.0, r: 0, g: 0, b: 0 }, { h: 0.125, r: 255, g: 255, b: 255 }, { h: 0.25, r: 0, g: 0, b: 0 }, { h: 0.375, r: 255, g: 255, b: 255 }, { h: 0.5, r: 0, g: 0, b: 0 }, { h: 0.625, r: 255, g: 255, b: 255 }, { h: 0.75, r: 0, g: 0, b: 0 }, { h: 0.875, r: 255, g: 255, b: 255 }, { h: 1.0, r: 0, g: 0, b: 0 }];\n\t\n\tvar wb = [{ h: 0.0, r: 255, g: 255, b: 255 }, { h: 0.125, r: 0, g: 0, b: 0 }, { h: 0.25, r: 255, g: 255, b: 255 }, { h: 0.375, r: 0, g: 0, b: 0 }, { h: 0.5, r: 255, g: 255, b: 255 }, { h: 0.625, r: 0, g: 0, b: 0 }, { h: 0.75, r: 255, g: 255, b: 255 }, { h: 0.875, r: 0, g: 0, b: 0 }, { h: 1.0, r: 255, g: 255, b: 255 }];\n\t\n\tvar rb = [{ h: 0.0, r: 255, g: 255, b: 255 }, { h: 0.1, r: 255, g: 0, b: 255 }, { h: 0.2, r: 0, g: 0, b: 255 }, { h: 0.3, r: 0, g: 255, b: 255 }, { h: 0.4, r: 0, g: 255, b: 0 }, { h: 0.6, r: 255, g: 255, b: 0 }, { h: 0.8, r: 255, g: 0, b: 0 }, { h: 1.0, r: 0, g: 0, b: 0 }];\n\t\n\tvar wk = [{ h: 0, r: 0, g: 7, b: 100 }, { h: 0.16, r: 32, g: 107, b: 203 }, { h: 0.42, r: 237, g: 255, b: 255 }, { h: 0.64, r: 255, g: 170, b: 0 }, { h: 0.86, r: 0, g: 2, b: 0 }, { h: 1, r: 0, g: 7, b: 100 }];\n\t\n\tvar wp = [{ h: 0.00, r: 0, g: 7, b: 100 }, { h: 0.04, r: 32, g: 107, b: 203 }, { h: 0.08, r: 237, g: 255, b: 255 }, { h: 0.12, r: 255, g: 170, b: 0 }, { h: 0.16, r: 0, g: 2, b: 0 }, { h: 0.20, r: 0, g: 7, b: 100 }, { h: 0.24, r: 32, g: 107, b: 203 }, { h: 0.28, r: 237, g: 255, b: 255 }, { h: 0.32, r: 255, g: 170, b: 0 }, { h: 0.36, r: 0, g: 2, b: 0 }, { h: 0.40, r: 0, g: 7, b: 100 }, { h: 0.44, r: 32, g: 107, b: 203 }, { h: 0.48, r: 237, g: 255, b: 255 }, { h: 0.52, r: 255, g: 170, b: 0 }, { h: 0.56, r: 0, g: 2, b: 0 }, { h: 0.60, r: 0, g: 7, b: 100 }, { h: 0.64, r: 32, g: 107, b: 203 }, { h: 0.68, r: 237, g: 255, b: 255 }, { h: 0.72, r: 255, g: 170, b: 0 }, { h: 0.76, r: 0, g: 2, b: 0 }, { h: 0.80, r: 0, g: 7, b: 100 }, { h: 0.84, r: 32, g: 107, b: 203 }, { h: 0.88, r: 237, g: 255, b: 255 }, { h: 0.92, r: 255, g: 170, b: 0 }, { h: 0.96, r: 0, g: 2, b: 0 }, { h: 1.00, r: 0, g: 7, b: 100 }];\n\t\n\texports.default = {\n\t  bw: bw, wb: wb, rb: rb, wk: wk, wp: wp, lg: lg\n\t};\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t\n\tvar colorPalette = function colorPalette(c, maxIter) {\n\t  if (c.x < 0 || c.x > 1 || c.y < 0 || c.y > 1) {\n\t    return 0;\n\t  }\n\t  return c.x * maxIter;\n\t};\n\t\n\t// http://linas.org/art-gallery/escape/smooth.html\n\tvar normalize = function normalize(mz, n) {\n\t  if (n === 0) return 0;\n\t  var t = Math.log(mz) / 2;\n\t  return n - Math.log(t) / Math.log(2);\n\t};\n\t\n\tvar mandelbrot = function mandelbrot(c, maxIter) {\n\t  var z = { x: 0, y: 0 };\n\t  for (var i = 0; i < maxIter; i++) {\n\t    var zz = {\n\t      x: z.x * z.x - z.y * z.y + c.x,\n\t      y: 2 * z.x * z.y + c.y\n\t    };\n\t    var mz = zz.x * zz.x + zz.y * zz.y;\n\t    if (mz > 4) {\n\t      return normalize(mz, i);\n\t    }\n\t    z = zz;\n\t  }\n\t  return maxIter;\n\t};\n\t\n\texports.default = {\n\t  colorPalette: colorPalette,\n\t  mandelbrot: mandelbrot\n\t};\n\n/***/ }\n/******/ ]);\n\n\n// WEBPACK FOOTER //\n// 35721f3e9354e97436ca.worker.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/fdraw-react/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 35721f3e9354e97436ca","import iterations from './iterations'\nimport getColor from './getColor'\n\nconst mapPoint = (srcX, srcY, trgParams) => ({\n  x: trgParams.x + srcX / trgParams.zoom,\n  y: trgParams.y - srcY / trgParams.zoom\n})\n\nself.onmessage = (e) => {\n  const params = e.data.params\n  const imageData = e.data.image\n\n  const width = params.width\n  const height = params.height\n  const halfWidth = Math.floor(width / 2)\n  const halfHeight = Math.floor(height / 2)\n  const maxIter = params.resolution\n  const fcolor = (h) => getColor.lg(h, params.palette)\n\n  const N = 50\n  let stat = new Array(N).fill(0)\n\n  for (let j = 0; j < height; j++) {\n    for (let i = 0; i < width; i++) {\n      const ii = 4 * (j * width + i)\n      const cPoint = mapPoint(i - halfWidth, j - halfHeight, params)\n      const nIter = iterations.mandelbrot(cPoint, maxIter)\n      const h = nIter / maxIter\n      const c = fcolor(h)\n      const n = Math.floor((N - 1) * h)\n      stat[n]++\n      imageData.data[ii + 0] = c.r\n      imageData.data[ii + 1] = c.g\n      imageData.data[ii + 2] = c.b\n      imageData.data[ii + 3] = c.a\n    }\n  }\n\n  let max = stat.reduce((m, x) => (x > m) ? x : m, 0)\n  stat = stat.map(x => x / max)\n\n  postMessage({ image: imageData, stat })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fdraw/services/fworker.js","/*\n * Quantization\n */\nconst getSegment = (h, bp) => {\n  const len = bp.length\n  if (h === 1) return [bp[len - 2], bp[len - 1]]\n  let i = 0\n  while (h < bp[i].h || h >= bp[i + 1].h) i++\n  const j = (i === len) ? 0 : i + 1\n  return [bp[i], bp[j]]\n}\n\n/*\n * Linear interpolation\n */\nconst li = (x, x1, x2, y1, y2) => {\n  const r = y1 + (x - x1) * (y2 - y1) / (x2 - x1)\n  return Math.round(r)\n}\n\n/*\n * Color gradient with linear interpolation\n */\nconst lg = (h, bp) => {\n  const [p1, p2] = getSegment(h, bp)\n  return {\n    r: li(h, p1.h, p2.h, p1.r, p2.r),\n    g: li(h, p1.h, p2.h, p1.g, p2.g),\n    b: li(h, p1.h, p2.h, p1.b, p2.b),\n    a: 255\n  }\n}\n\nconst bw = [\n  { h: 0.0, r: 0, g: 0, b: 0 },\n  { h: 0.125, r: 255, g: 255, b: 255 },\n  { h: 0.25, r: 0, g: 0, b: 0 },\n  { h: 0.375, r: 255, g: 255, b: 255 },\n  { h: 0.5, r: 0, g: 0, b: 0 },\n  { h: 0.625, r: 255, g: 255, b: 255 },\n  { h: 0.75, r: 0, g: 0, b: 0 },\n  { h: 0.875, r: 255, g: 255, b: 255 },\n  { h: 1.0, r: 0, g: 0, b: 0 }\n]\n\nconst wb = [\n  { h: 0.0, r: 255, g: 255, b: 255 },\n  { h: 0.125, r: 0, g: 0, b: 0 },\n  { h: 0.25, r: 255, g: 255, b: 255 },\n  { h: 0.375, r: 0, g: 0, b: 0 },\n  { h: 0.5, r: 255, g: 255, b: 255 },\n  { h: 0.625, r: 0, g: 0, b: 0 },\n  { h: 0.75, r: 255, g: 255, b: 255 },\n  { h: 0.875, r: 0, g: 0, b: 0 },\n  { h: 1.0, r: 255, g: 255, b: 255 }\n]\n\nconst rb = [\n  { h: 0.0, r: 255, g: 255, b: 255 },\n  { h: 0.1, r: 255, g: 0, b: 255 },\n  { h: 0.2, r: 0, g: 0, b: 255 },\n  { h: 0.3, r: 0, g: 255, b: 255 },\n  { h: 0.4, r: 0, g: 255, b: 0 },\n  { h: 0.6, r: 255, g: 255, b: 0 },\n  { h: 0.8, r: 255, g: 0, b: 0 },\n  { h: 1.0, r: 0, g: 0, b: 0 }\n]\n\nconst wk = [\n  { h: 0, r: 0, g: 7, b: 100 },\n  { h: 0.16, r: 32, g: 107, b: 203 },\n  { h: 0.42, r: 237, g: 255, b: 255 },\n  { h: 0.64, r: 255, g: 170, b: 0 },\n  { h: 0.86, r: 0, g: 2, b: 0 },\n  { h: 1, r: 0, g: 7, b: 100 }\n]\n\nconst wp = [\n  { h: 0.00, r: 0, g: 7, b: 100 },\n\n  { h: 0.04, r: 32, g: 107, b: 203 },\n  { h: 0.08, r: 237, g: 255, b: 255 },\n  { h: 0.12, r: 255, g: 170, b: 0 },\n  { h: 0.16, r: 0, g: 2, b: 0 },\n  { h: 0.20, r: 0, g: 7, b: 100 },\n\n  { h: 0.24, r: 32, g: 107, b: 203 },\n  { h: 0.28, r: 237, g: 255, b: 255 },\n  { h: 0.32, r: 255, g: 170, b: 0 },\n  { h: 0.36, r: 0, g: 2, b: 0 },\n  { h: 0.40, r: 0, g: 7, b: 100 },\n\n  { h: 0.44, r: 32, g: 107, b: 203 },\n  { h: 0.48, r: 237, g: 255, b: 255 },\n  { h: 0.52, r: 255, g: 170, b: 0 },\n  { h: 0.56, r: 0, g: 2, b: 0 },\n  { h: 0.60, r: 0, g: 7, b: 100 },\n\n  { h: 0.64, r: 32, g: 107, b: 203 },\n  { h: 0.68, r: 237, g: 255, b: 255 },\n  { h: 0.72, r: 255, g: 170, b: 0 },\n  { h: 0.76, r: 0, g: 2, b: 0 },\n  { h: 0.80, r: 0, g: 7, b: 100 },\n\n  { h: 0.84, r: 32, g: 107, b: 203 },\n  { h: 0.88, r: 237, g: 255, b: 255 },\n  { h: 0.92, r: 255, g: 170, b: 0 },\n  { h: 0.96, r: 0, g: 2, b: 0 },\n  { h: 1.00, r: 0, g: 7, b: 100 }\n]\n\nexport default {\n  bw, wb, rb, wk, wp, lg\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fdraw/services/getColor.js","\nconst colorPalette = (c, maxIter) => {\n  if (c.x < 0 || c.x > 1 || c.y < 0 || c.y > 1) {\n    return 0\n  }\n  return c.x * maxIter\n}\n\n// http://linas.org/art-gallery/escape/smooth.html\nconst normalize = (mz, n) => {\n  if (n === 0) return 0\n  const t = Math.log(mz) / 2\n  return n - Math.log(t) / Math.log(2)\n}\n\nconst mandelbrot = (c, maxIter) => {\n  let z = { x: 0, y: 0 }\n  for (let i = 0; i < maxIter; i++) {\n    const zz = {\n      x: z.x * z.x - z.y * z.y + c.x,\n      y: 2 * z.x * z.y + c.y\n    }\n    const mz = zz.x * zz.x + zz.y * zz.y\n    if (mz > 4) {\n      return normalize(mz, i)\n    }\n    z = zz\n  }\n  return maxIter\n}\n\nexport default {\n  colorPalette,\n  mandelbrot\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/fdraw/services/iterations.js"],"sourceRoot":""}